var x=Object.defineProperty;var S=(d,t,e)=>t in d?x(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var y=(d,t,e)=>S(d,typeof t!="symbol"?t+"":t,e);import{g as s,S as L,a as M,D as R,G as P,c as q,A,b,P as C,W as D,L as T,C as z}from"./SkeletonUtils-C7gMkyqH.js";import{S as E}from"./ScrollTrigger-DZdR0iV_.js";s.registerPlugin(E);s.config({nullTargetWarn:!1});console.log("home");class O{constructor(t){this.container=t,this.header=this.container.querySelector("header"),this.footer=this.container.querySelector("footer"),this.nav=this.container.querySelector("nav"),this.navMenu=this.container.querySelector(".nav-menu"),this.navDropdown=this.container.querySelector(".nav-dropdown"),this.init()}init(){this.splitText(),s.to(this.container.querySelectorAll("header, main, footer"),{duration:.5,opacity:1}),this.menuAnimation(),this.updateFooterYear(),this.initFooter()}splitText(){let t=Array.from(this.container.querySelectorAll("h1:not([no-split]), h2:not([no-split]), h3:not([no-split]), p:not([no-split]), a:not([no-split]), label:not([no-split]) span:not([no-split]) blockquote:not([no-split])"));this.elementsToSplit=t.filter(e=>!t.some(i=>i!==e&&i.contains(e))),this.elementsToSplit.forEach(e=>{L({target:e,by:"chars"})}),this.setupTextAnimations()}setupTextAnimations(){this.elementsToSplit.forEach(t=>{const e=t.querySelectorAll(".char"),i=t.getAttribute("split-text");if(!t.hasAttribute("no-scroll")){s.set(e,{yPercent:110,opacity:0});let h=s.timeline({scrollTrigger:{trigger:t,start:"top 92%",end:"bottom bottom",invalidateOnRefresh:!0}});i==="chars"?h.to(e,{yPercent:0,stagger:{each:.05},opacity:1,ease:"power4.inOut",duration:1}):i==="intro"?h.to(e,{yPercent:0,opacity:1,delay:1,stagger:{each:.05,from:"center"}}):h.to(e,{yPercent:0,opacity:1,ease:"expo.out",duration:2})}})}menuAnimation(){const t=s.timeline({paused:!0});t.to(".nav-menu-bar",{y:"0px",scale:.8}).to(".nav-menu-bar.top",{rotate:45,duration:.5},"<").to(".nav-menu-bar.btm",{rotate:-45,duration:.5},"<").to(this.navDropdown,{height:"5.5rem"},"<").from(this.navDropdown.querySelectorAll(".word"),{y:"100%",opacity:0,stagger:.1},"<"),this.menuOpen=!1,this.navMenu.addEventListener("click",()=>{this.menuOpen?t.reverse():t.play(),this.menuOpen=!this.menuOpen}),this.container.querySelectorAll(".text-link").forEach(e=>{const i=s.timeline({paused:!0}),r=[...e.querySelectorAll(".word")];i.to(r.at(-1),{x:"30%",duration:.5}),i.to(r.at(-1).querySelectorAll(".char"),{y:"-1.5ch",x:"1.5ch",duration:.5},"<0.1"),e.addEventListener("mouseenter",()=>{i.play()}),e.addEventListener("mouseleave",()=>{i.reverse()})})}updateFooterYear(){const t=new Date().getFullYear();this.footer.querySelector(".footer-year").textContent=`Copyright Â© ${t} Kim McLear. All Rights Reserved.`}initFooter(){const t=this.container.querySelector(".webgl1"),e=new M,i=new R;i.setDecoderPath("https://cdn.jsdelivr.net/npm/three@0.153.0/examples/jsm/libs/draco/");const r=new P;r.setDRACOLoader(i);const h=[],l=(c,p)=>{const w=p*.5,u=12+Math.random()*10;s.timeline({repeat:-1,delay:w}).to(c.position,{x:3,z:0,duration:u/2,ease:"none"}).to(c.rotation,{y:-1.25,duration:2},"-=2").to(c.position,{x:-5,z:-1,duration:u/2,ease:"none"}).to(c.rotation,{y:1.25,duration:2},"-=2")};r.load("https://cdn.jsdelivr.net/gh/theNkennaAmadi/emil-about@main/dist/models/dove/dove-c.glb",c=>{const p=c.scene,w=c.animations[0];for(let u=0;u<10;u++){const g=q(p);g.scale.set(.4,.4,.4),g.position.set(-5+u*2,Math.random()*2.2,-1+Math.random()*2),g.rotation.y=1.25,e.add(g);const f=new A(g);f.clipAction(w).setDuration(1.25).play(),h.push(f),l(g,u)}}),e.add(new b("white",1));const o={width:window.innerWidth,height:window.innerHeight},n=new C(75,o.width/o.height,.1,100);n.position.set(0,.55,2),e.add(n);const a=new D({canvas:t,alpha:!0,antialias:!0,powerPreference:"high-performance"});a.outputColorSpace=T,a.setSize(o.width,o.height),a.setPixelRatio(Math.min(window.devicePixelRatio,2)),window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,n.aspect=o.width/o.height,n.updateProjectionMatrix(),a.setSize(o.width,o.height),a.setPixelRatio(Math.min(window.devicePixelRatio,2))});const m=new z,v=()=>{const c=m.getDelta();h.forEach(p=>p.update(c)),a.render(e,n),requestAnimationFrame(v)};v()}}class H{constructor(t){this.container=t,this.init()}init(){this.featuredLogosReveal(),this.introImgReveal(),new Y(this.container,"canvasDot")}introImgReveal(){this.introVisual=this.container.querySelector(".intro-visual"),s.from(this.introVisual,{clipPath:"inset(0% 0% 100% 0%)",ease:"expo.inOut",duration:2}),s.from(this.introVisual.querySelector("img"),{scale:1.3,ease:"expo.out",duration:2,delay:.75})}featuredLogosReveal(){this.featuredLogosList=document.querySelector(".featured-logos-list"),this.featuredLogos=document.querySelectorAll(".featured-logo-item"),s.from(this.featuredLogos,{opacity:0,scale:0,ease:"expo.out",duration:1.5,delay:.1,stagger:.2,scrollTrigger:{trigger:this.featuredLogosList,start:"top 90%"}})}}class Y{constructor(t,e,i={}){y(this,"draw",()=>{this.ctx.clearRect(0,0,this.config.width,this.config.height),this.dots.forEach(t=>this.updateDot(t)),requestAnimationFrame(this.draw)});this.config={width:window.innerWidth,height:window.innerHeight,dotSmall:2,dotLarge:15,hoverRadius:45,normalColor:"#371f04",hoverColor:"#bf911d",...i},this.canvas=t.querySelector(`#${e}`),this.mainContainer=this.canvas.parentElement.parentElement,this.ctx=this.canvas.getContext("2d"),this.dots=[],this.mousePosition={x:null,y:null},this.resizeTimer=null,this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handleResize=this.handleResize.bind(this),this.setupEventListeners(),this.resizeCanvas(),this.init()}setupEventListeners(){this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mouseout",this.handleMouseOut),window.addEventListener("resize",this.handleResize)}handleMouseMove(t){this.mousePosition.x=t.offsetX,this.mousePosition.y=t.offsetY}handleMouseOut(){this.mousePosition.x=null,this.mousePosition.y=null}handleResize(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(()=>{this.resizeCanvas(),this.init()},250)}resizeCanvas(){const{dotLarge:t}=this.config;this.config.width=window.innerWidth,this.config.height=window.innerHeight,this.canvas.width=this.config.width,this.canvas.height=this.config.height,this.numRows=Math.ceil(this.config.height/(t*2))+1,this.numCols=Math.ceil(this.config.width/(t*2)),this.numDots=this.numRows*this.numCols}createDot(t,e){return{radius:this.config.dotSmall,x:t,y:e,originalX:t,originalY:e,inHoverRadius:!1}}init(){this.dots=[];const{height:t,width:e,dotLarge:i}=this.config,r=e/2,h=t/2;for(let l=i;l<=t;l+=i*2)for(let o=i;o<=e;o+=i*2){const n=this.createDot(o,l),a=r-o,m=h-l;n.staggerDelay=Math.sqrt(a*a+m*m)*.0025,this.dots.push(n)}s.from(this.dots,{duration:1,radius:0,stagger:(l,o)=>o.staggerDelay,ease:"expo.out"}),this.draw()}updateDot(t){const{normalColor:e,hoverColor:i,hoverRadius:r}=this.config,{x:h,y:l,originalX:o,originalY:n}=t;if(this.ctx.beginPath(),this.ctx.arc(h,l,t.radius,0,Math.PI*2,!1),this.ctx.fillStyle=t.inHoverRadius?i:e,this.ctx.fill(),this.ctx.closePath(),this.mousePosition.x&&this.mousePosition.y){const a=o-this.mousePosition.x,m=n-this.mousePosition.y;Math.sqrt(Math.pow(a,2)+Math.pow(m,2))<=r?(t.inHoverRadius=!0,s.to(t,{duration:.4,x:this.mousePosition.x,y:this.mousePosition.y})):(t.inHoverRadius=!1,s.to(t,{duration:.4,x:o,y:n}))}else t.inHoverRadius=!1,s.to(t,{duration:.4,x:o,y:n})}destroy(){this.canvas.removeEventListener("mousemove",this.handleMouseMove),this.canvas.removeEventListener("mouseout",this.handleMouseOut),window.removeEventListener("resize",this.handleResize),s.killTweensOf(this.dots)}}window.addEventListener("load",()=>{new O(document.querySelector(".page-wrapper")),new H(document.querySelector(".page-wrapper"))});
