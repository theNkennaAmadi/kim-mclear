import{g as r,S,a as v,D as f,G as A,c as x,A as b,b as q,P as L,W as D,L as P,C as T}from"./SkeletonUtils-C7gMkyqH.js";r.config({nullTargetWarn:!1});class C{constructor(e){this.container=e,this.header=this.container.querySelector("header"),this.footer=this.container.querySelector("footer"),this.nav=this.container.querySelector("nav"),this.navMenu=this.container.querySelector(".nav-menu"),this.navDropdown=this.container.querySelector(".nav-dropdown"),this.init()}init(){this.splitText(),r.to(this.container.querySelectorAll("header, main, footer"),{duration:.5,opacity:1}),this.menuAnimation(),this.updateFooterYear(),this.initFooter()}splitText(){let e=Array.from(this.container.querySelectorAll("h1:not([no-split]), h2:not([no-split]), h3:not([no-split]), p:not([no-split]), a:not([no-split]), label:not([no-split]) span:not([no-split]) blockquote:not([no-split])"));this.elementsToSplit=e.filter(t=>!e.some(o=>o!==t&&o.contains(t))),this.elementsToSplit.forEach(t=>{S({target:t,by:"chars"})}),this.setupTextAnimations()}setupTextAnimations(){this.elementsToSplit.forEach(e=>{const t=e.querySelectorAll(".char"),o=e.getAttribute("split-text");if(!e.hasAttribute("no-scroll")){r.set(t,{yPercent:110,opacity:0});let c=r.timeline({scrollTrigger:{trigger:e,start:"top 92%",end:"bottom bottom",invalidateOnRefresh:!0}});o==="chars"?c.to(t,{yPercent:0,stagger:{each:.05},opacity:1,ease:"power4.inOut",duration:1}):o==="intro"?c.to(t,{yPercent:0,opacity:1,delay:1,stagger:{each:.05,from:"center"}}):c.to(t,{yPercent:0,opacity:1,ease:"expo.out",duration:2})}})}menuAnimation(){const e=r.timeline({paused:!0});e.to(".nav-menu-bar",{y:"0px",scale:.8}).to(".nav-menu-bar.top",{rotate:45,duration:.5},"<").to(".nav-menu-bar.btm",{rotate:-45,duration:.5},"<").to(this.navDropdown,{height:"5.5rem"},"<").from(this.navDropdown.querySelectorAll(".word"),{y:"100%",opacity:0,stagger:.1},"<"),this.menuOpen=!1,this.navMenu.addEventListener("click",()=>{this.menuOpen?e.reverse():e.play(),this.menuOpen=!this.menuOpen}),this.container.querySelectorAll(".text-link").forEach(t=>{const o=r.timeline({paused:!0}),s=[...t.querySelectorAll(".word")];o.to(s.at(-1),{x:"30%",duration:.5}),o.to(s.at(-1).querySelectorAll(".char"),{y:"-1.5ch",x:"1.5ch",duration:.5},"<0.1"),t.addEventListener("mouseenter",()=>{o.play()}),t.addEventListener("mouseleave",()=>{o.reverse()})})}updateFooterYear(){const e=new Date().getFullYear();this.footer.querySelector(".footer-year").textContent=`Copyright Â© ${e} Kim McLear. All Rights Reserved.`}initFooter(){const e=this.container.querySelector(".webgl1"),t=new v,o=new f;o.setDecoderPath("https://cdn.jsdelivr.net/npm/three@0.153.0/examples/jsm/libs/draco/");const s=new A;s.setDRACOLoader(o);const c=[],y=(i,p)=>{const u=p*.5,a=12+Math.random()*10;r.timeline({repeat:-1,delay:u}).to(i.position,{x:3,z:0,duration:a/2,ease:"none"}).to(i.rotation,{y:-1.25,duration:2},"-=2").to(i.position,{x:-5,z:-1,duration:a/2,ease:"none"}).to(i.rotation,{y:1.25,duration:2},"-=2")};s.load("https://cdn.jsdelivr.net/gh/theNkennaAmadi/emil-about@main/dist/models/dove/dove-c.glb",i=>{const p=i.scene,u=i.animations[0];for(let a=0;a<10;a++){const h=x(p);h.scale.set(.4,.4,.4),h.position.set(-5+a*2,Math.random()*2.2,-1+Math.random()*2),h.rotation.y=1.25,t.add(h);const w=new b(h);w.clipAction(u).setDuration(1.25).play(),c.push(w),y(h,a)}}),t.add(new q("white",1));const n={width:window.innerWidth,height:window.innerHeight},d=new L(75,n.width/n.height,.1,100);d.position.set(0,.55,2),t.add(d);const l=new D({canvas:e,alpha:!0,antialias:!0,powerPreference:"high-performance"});l.outputColorSpace=P,l.setSize(n.width,n.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),window.addEventListener("resize",()=>{n.width=window.innerWidth,n.height=window.innerHeight,d.aspect=n.width/n.height,d.updateProjectionMatrix(),l.setSize(n.width,n.height),l.setPixelRatio(Math.min(window.devicePixelRatio,2))});const g=new T,m=()=>{const i=g.getDelta();c.forEach(p=>p.update(i)),l.render(t,d),requestAnimationFrame(m)};m()}}new C(document.querySelector(".page-wrapper"));
